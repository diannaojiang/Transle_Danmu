{"version":3,"sources":["views/section-left/section-left.jsx","views/input/input.jsx","views/login-form/login-form.jsx","common/use-async.js","views/login-form/bilibili-account-list.jsx","common/use-previous.js","redux/action/action-types.js","redux/reducers/collapsed/collapsed.js","redux/reducers/room/room.js","redux/reducers/data/data.js","redux/reducers/login/login.js","redux/reducers/user/user.js","redux/reducers/reducers.js","redux/store.js","redux/action/action-creators.js","containers/section-left/section-left.jsx","containers/input/input.jsx","views/easy-player/easy-player.jsx","compoments/room/room.jsx","containers/room/room.jsx","common/form-rules.js","views/is-login/is-login.jsx","containers/is-login/is-login.jsx","containers/login-form/login-form.jsx","compoments/login/login.jsx","containers/login/login.jsx","compoments/demo/demo.jsx","containers/demo/demo.jsx","compoments/signup/signup.jsx","views/section-right/section-right.jsx","containers/section-right/section-right.jsx","views/app/app.jsx","containers/app/app.jsx","index.js","api/api.js"],"names":["SectionLeft","state","rooms","num","owner","color","url","onCollapse","collapsed","props","setCollapsed","room","user","this","login","$","ajax","type","data","room_id","loc_user","dataType","success","msg","eval","console","log","setRoom","history","push","error","Sider","Layout","SubMenu","Menu","MenuItems","map","index","Item","key","icon","onClick","handleClick","style","overflow","height","position","collapsible","className","size","marginTop","marginBottom","marginLeft","marginRight","src","to","ghost","theme","defaultSelectedKeys","mode","title","Component","Input","Form","useForm","form","openNotificationWithIcon","message","description","notification","duration","onReset","resetFields","onFinish","values","value","senddanmu","length","onChange","e","target","split","others","substring","val","danmu","hasOwnProperty","setTimeout","onkeydown","window","event","keyCode","preventDefault","Group","Button","defaultChecked","layout","onKeyDown","name","labelCol","span","rules","required","rows","id","autoFocus","htmlType","LoginForm","forceRefreshAccountList","oauthKey","account","request","alert","return","setState","open","initialValues","remember","prefix","placeholder","forceRefresh","useAsync","fn","deps","mountedRef","useRef","useEffect","current","isMounted","useCallback","useState","pending","lastestID","then","catch","BilibiliAccountList","a","api","getBilibiliAccountList","loadingState","loadAccountList","prevAccountList","check","ref","usePrevious","it","accountListToRender","useMemo","nameToRemove","removeBilibiliAccount","removingState","removeAccount","Date","now","btn","close","dataSource","columns","dataIndex","width","align","render","danger","loading","SETCOLLAPSED","SETROOM","SETDATA","ISLOGIN","SETUSER","reducer","action","time","avatarColor","reducers","combineReducers","store","createStore","boolean","connect","json","withRouter","setData","array","EasyPlayer","player","callbackfun","WasmPlayer","openAudio","Height","play","nextProps","destroy","Room","Content","margin","handleUpdata","formRules","max","require","getFieldValue","validator","_","Error","Paragraph","Typography","Title","Text","IsLogin","strong","pass","setUser","isLogin","UserOutlined","LockOutlined","string","Login","Demo","level","mark","SignUp","setPending","email","signup","padding","MailOutlined","dependencies","display","spinning","SectionRight","Header","Footer","path","component","textAlign","AppLayout","minHeight","App","ReactDOM","document","getElementById","axios","defaults","baseURL","apiSpec","servers","Named","buildFormData","FormData","Object","keys","append","headers","_boundary","post","response","status","del_user","JSON","parse"],"mappings":"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","file":"static/js/main.d13cac40.chunk.js","sourcesContent":["import React,{Component} from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {\r\n    HomeOutlined,\r\n    GithubOutlined,\r\n    YoutubeOutlined\r\n  } from '@ant-design/icons';\r\nimport $ from 'jquery'\r\nimport {Layout,Menu, Avatar, Button} from 'antd';\r\n\r\nexport default class SectionLeft extends Component {\r\n    state={\r\n        rooms:[\r\n            {num:'21320551',owner:'oto',color:'#ffccff',url:''},\r\n            {num:'8725120',owner:'古守',color:'#ff6666',url:''},\r\n            {num:'21396545',owner:'团长',color:'#99ffcc',url:''},\r\n            {num:'21685677',owner:'0g0',color:'#ffffff',url:''},\r\n            {num:'6542258',owner:'小伞',color:'#ff9999',url:''},\r\n            {num:'21573665',owner:'紫桃',color:'#cc99ff',url:''},\r\n            {num:'14327465',owner:'猫猫',color:'#ffcccc',url:''},\r\n            {num:'22347054',owner:'nano',color:'#e33fff',url:''},\r\n            {num:'3822389',owner:'mana',color:'#ffffff',url:''},\r\n            {num:'14052636',owner:'大姐',color:'#ff99cc',url:''},\r\n            {num:'22571958',owner:'373',color:'#cccccc',url:''},\r\n            {num:'1321846',owner:'夏小姐',color:'#a295b0',url:''},\r\n        ]\r\n    }\r\n    onCollapse = () => {\r\n        const collapsed = !this.props.collapsed;\r\n        this.props.setCollapsed(collapsed);\r\n    };\r\n\r\n    handleClick(room,user){\r\n        //console.log(room)\r\n         \r\n        if(this.props.login){\r\n           \r\n            $.ajax({\r\n                type: \"post\",\r\n                url: \"https://danmu.sea-group.org/bililive.php\",\r\n                data: {room_id:room.num,loc_user:user},//提交到demo.php的数据\r\n                dataType: \"json\",//回调函数接收数据的数据格式\r\n                success: (msg)=>{\r\n                    var data='';\r\n                    if(msg!==''){\r\n                        data = eval(\"(\"+msg+\")\");    //将返回的json数据进行解析，并赋给data\r\n                    } \r\n                console.log(data);    //控制台输出\r\n                room.url=data.url\r\n                this.props.setRoom(room)\r\n                //console.log(room)\r\n                this.props.history.push('/room')\r\n                //console.log(data.url);\r\n              },\r\n              error:function(msg){\r\n                console.log(msg);\r\n              }\r\n            });\r\n        }\r\n        \r\n       //this.props.setRoom(room)\r\n       //this.props.history.push('/room')\r\n    }\r\n\r\n    render(){\r\n        const { Sider } = Layout;\r\n        const { SubMenu } = Menu;\r\n        const {collapsed,user} = this.props;\r\n        const {rooms} = this.state;\r\n        const MenuItems = rooms.map((room,index)=>\r\n            <Menu.Item key={index} icon={<YoutubeOutlined />} onClick={()=>this.handleClick(room,user)}>\r\n                {room.owner}\r\n            </Menu.Item>)\r\n        return(\r\n            <Sider style={{\r\n                overflow: 'auto',\r\n                height: '100vh',\r\n                position: 'fixed',\r\n            }} collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\r\n                <div className=\"logo\" />\r\n                \r\n                <Avatar size={50} style={{marginTop:5,marginBottom:5,marginLeft:12,marginRight:12}} src='./komori.jpg' />\r\n                <NavLink to={'/login'}><Button type=\"dashed\" style={{marginLeft:6,marginRight:6}} ghost>{this.props.login?'录入':'登陆'}</Button></NavLink>\r\n                <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                <Menu.Item key=\"1\" icon={<GithubOutlined />}>\r\n                    <NavLink to={'/index'}>同传姬介绍</NavLink>               \r\n                </Menu.Item>\r\n                <SubMenu key=\"sub1\" icon={<HomeOutlined />} title=\"直播间列表\">\r\n                {MenuItems}\r\n                </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport { Mentions, Form, Button,notification ,Radio } from 'antd';\r\nimport $ from 'jquery'\r\n\r\n\r\nvar user = 0\r\nvar color = '14893055'\r\nconst Input = (props) => {\r\n  const [form] = Form.useForm();\r\n  const openNotificationWithIcon = (type,message,description) => {\r\n    notification[type]({\r\n    message,\r\n    description,\r\n    duration: 5,\r\n  });\r\n  };\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n  const onFinish = (values) => {\r\n    var value = values.value\r\n    senddanmu(value,value.length)\r\n\r\n  };\r\n  const onChange = e => {\r\n    \r\n    color = e.target.value\r\n    console.log(color);\r\n  };\r\n  const senddanmu=(message,length)=>{\r\n    var room=props.room.num;\r\n    var split =0;\r\n    var value,others\r\n    value=others=message\r\n    if(length>18){\r\n      value = value.substring(0,18);\r\n      console.log(value)\r\n      others = others.substring(18)\r\n      $('#danmu').val(others); \r\n      split =1\r\n      length-=18\r\n    }\r\n    else{\r\n      onReset();\r\n    }\r\n    $.ajax({\r\n      type: \"post\",\r\n      url: \"https://danmu.sea-group.org/danmu.php\",\r\n      data: {room:room,user:user,danmu:value,loc_user:props.user,color:color},//提交到demo.php的数据\r\n      dataType: \"json\",//回调函数接收数据的数据格式\r\n      success: (msg)=>{\r\n        var data='';\r\n        if(msg!==''){\r\n          data = eval(\"(\"+msg+\")\");    //将返回的json数据进行解析，并赋给data\r\n        }\r\n        if(data.hasOwnProperty(\"error\")){\r\n          openNotificationWithIcon(\"error\",'发送失败',`error:${data.error},user:${data.user},msg:${data.danmu}`);\r\n        }\r\n        else{\r\n          openNotificationWithIcon(\"success\",'发送成功',`弹幕:${data.user}:${data.danmu}`);\r\n        }\r\n        console.log(data);    //控制台输出\r\n      },\r\n      error:(msg)=>{\r\n        openNotificationWithIcon(\"error\",\"连接失败\",\"请检查网络连接或联系本人\");\r\n        console.log(msg);\r\n      }\r\n    });\r\n    user++;\r\n    if (split) {\r\n      const values={value:others}\r\n      setTimeout(function(){onFinish(values)}, 800);\r\n    }\r\n  }\r\n\r\nfunction onkeydown(){\r\n if(window.event.keyCode === 13){\r\n  window.event.preventDefault()\r\n  var danmu=$('#danmu').val();\r\n  if(danmu!==''){\r\n    const values={value:danmu}\r\n    onFinish(values)\r\n  }\r\n  }\r\n}\r\n  return (\r\n    <div>\r\n      <Radio.Group onChange={onChange}>\r\n        <Radio.Button value=\"16777215\" style={{color:'#000000'}}>白色</Radio.Button>\r\n        <Radio.Button value=\"14893055\" style={{color:'#e33fff'}}>紫色</Radio.Button>\r\n        <Radio.Button value=\"5566168\" style={{color:'#54eed8'}}>松石绿</Radio.Button>\r\n        <Radio.Button value=\"5816798\" style={{color:'#58c1de'}}>雨后蓝</Radio.Button>\r\n        <Radio.Button value=\"4546550\" style={{color:'#455ff6'}}>星空蓝</Radio.Button>\r\n        <Radio.Button defaultChecked value=\"9920249\" style={{color:'#975ef9'}}>紫罗兰</Radio.Button>\r\n        <Radio.Button value=\"12802438\" style={{color:'#c35986'}}>梦境红</Radio.Button>\r\n        <Radio.Button value=\"16747553\" style={{color:'#ff8c21'}}>热力橙</Radio.Button>\r\n        <Radio.Button value=\"16774434\" style={{color:'#fff522'}}>香槟金</Radio.Button>\r\n        <Radio.Button value=\"16738408\" style={{color:'#ff6868'}}>红色</Radio.Button>\r\n        <Radio.Button value=\"6737151\" style={{color:'#66ccff'}}>蓝色</Radio.Button>\r\n        <Radio.Button value=\"65532\" style={{color:'#00fffc'}}>青色</Radio.Button>\r\n        <Radio.Button value=\"16766720\" style={{color:'#ffd700'}}>盛典金</Radio.Button>\r\n        <Radio.Button value=\"4286945\" style={{color:'#4169e1'}}>升腾蓝</Radio.Button>\r\n        <Radio.Button value=\"16474408\" style={{color:'#fb6128'}}>南瓜色</Radio.Button>\r\n        <Radio.Button value=\"8322816\" style={{color:'#7eff00'}}>绿色</Radio.Button>\r\n        <Radio.Button value=\"16772431\" style={{color:'#ffed4f'}}>黄色</Radio.Button>\r\n        <Radio.Button value=\"16750592\" style={{color:'#ff9800'}}>橙色</Radio.Button>\r\n        <Radio.Button value=\"16741274\" style={{color:'#ff739a'}}>粉色</Radio.Button>\r\n\r\n      </Radio.Group>\r\n    <Form form={form} layout=\"horizontal\" onFinish={onFinish} onKeyDown={()=>onkeydown()}>\r\n      <Form.Item\r\n        name=\"value\"\r\n        labelCol={{ span: 6 }}\r\n        rules={[{ required: true }]}\r\n      >\r\n          <Mentions rows=\"3\" id='danmu' autoFocus>\r\n        </Mentions>\r\n      </Form.Item>\r\n      <Form.Item >\r\n        <Button htmlType=\"submit\" type=\"primary\">\r\n          Submit\r\n        </Button>\r\n        &nbsp;&nbsp;&nbsp;\r\n        <Button htmlType=\"button\" onClick={onReset} >\r\n          Reset\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n    </div>\r\n  );\r\n};\r\nexport default Input","import React,{Component} from 'react'\r\nimport $ from 'jquery'\r\nimport { Form, Input, Button, notification} from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport { BilibiliAccountList } from './bilibili-account-list'\r\n\r\n\r\nexport default class LoginForm extends Component {\r\n    openNotificationWithIcon = (type,message,description) => {\r\n      notification[type]({\r\n      message,\r\n      description,\r\n      duration: 3,\r\n    });\r\n  };\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      forceRefreshAccountList: 0\r\n    }\r\n  }\r\n\r\n    render(){\r\n      console.log(this.props.login);\r\n      //ajax\r\n        const onFinish = (values) => {\r\n            var oauthKey =  (key)=>{\r\n                console.log(key); \r\n                //window.alert('开始登录');\r\n                var name=values.account;\r\n                  $.ajax({\r\n                    type: \"post\",\r\n                    url: \"https://danmu.sea-group.org/bililogin.php\",\r\n                    data: {request:\"oauth\",key:key,name:name,loc_user:this.props.user},//提交到demo.php的数据\r\n                    dataType: \"json\",//回调函数接收数据的数据格式\r\n                    success: (msg)=>{\r\n                      var data='';\r\n                      if(msg!==''){\r\n                        data = eval(\"(\"+msg+\")\");    //将返回的json数据进行解析，并赋给data\r\n                      } \r\n                      window.alert(\"错误码：\" + data.return + \"\\n状态：\" + data.data);\r\n          \r\n                      if (data.return==='4'||data.return==='5'||data.return==='-3') {\r\n                        //window.alert('msg');\r\n                        oauthKey(key);\r\n                      }\r\n\r\n                      this.setState(state => ({\r\n                        ...state,\r\n                        forceRefreshAccountList: state.forceRefreshAccountList + 1\r\n                      }))\r\n\r\n                      console.log(data);    //控制台输出\r\n                    },\r\n                    error:(msg)=>{\r\n                      console.log(msg);\r\n                    }\r\n                  });\r\n              }\r\n            $.ajax({\r\n                type: \"post\",\r\n                url:  \"https://danmu.sea-group.org/bililogin.php\",\r\n                data: {request:\"new\"},//提交到demo.php的数据\r\n                dataType: \"json\",//回调函数接收数据的数据格式\r\n                success: (msg)=>{\r\n                  var data='';\r\n                  if(msg!==''){\r\n                    data = eval(\"(\"+msg+\")\");\r\n                   console.log(data,msg)    //将返回的json数据进行解析，并赋给data\r\n                  } \r\n                  window.open(\"https://cli.im/api/qrcode/code?text=\"+data.data.url+\"&mhid=4ErBBQHuy88hMHYvI9JWPK8\");    \r\n                  oauthKey(data.data.oauthKey)  \r\n                  //console.log(data);    //控制台输出\r\n                },\r\n                error:function(msg){\r\n                  console.log(msg);\r\n                }\r\n              });\r\n              \r\n        };\r\n\r\n          \r\n          return (<>\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{\r\n                remember: true,\r\n              }}\r\n              onFinish={onFinish}\r\n            >\r\n              <Form.Item\r\n                name=\"account\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '请输入账号!',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"账号\" />\r\n              </Form.Item>\r\n              \r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                上传\r\n                </Button>\r\n\r\n              </Form.Item>\r\n              \r\n            </Form>\r\n\r\n            <BilibiliAccountList\r\n              user = {this.props.user}\r\n              forceRefresh = {this.state.forceRefreshAccountList}\r\n            />\r\n\r\n            </>);\r\n    }\r\n}","import { useState, useEffect, useRef, useCallback } from 'react'\n\nexport const useAsync = (fn, deps) => {\n  const mountedRef = useRef(false)\n\n  useEffect(() => {\n    mountedRef.current = true;\n\n    return () => {\n      mountedRef.current = false;\n    }\n  })\n\n  const isMounted = useCallback(() => mountedRef.current, [])\n\n  const [state, setState] = useState({\n    pending: false,\n    error: null,\n    value: null\n  })\n\n  const lastestID = useRef(0)\n\n  const callback = useCallback((...args) => {\n    const id = ++lastestID.current;\n\n    setState({\n      pending: true,\n      value: null,\n      error: null\n    })\n\n    return fn(\n      ...args\n    ).then(value => {\n      if (isMounted() && id === lastestID.current) {\n        setState({\n          pending: false,\n          value,\n          error: null\n        })\n      }\n\n      return value\n    }).catch(error => {\n      if (isMounted() && id === lastestID.current) {\n        setState({\n          pending: false,\n          value: null,\n          error\n        })\n      }\n\n      return error\n    })\n  }, [...deps, isMounted])\n\n  return [state, callback]\n}\n","import React, { useEffect, useMemo } from 'react'\n\nimport { Button, Table, notification } from 'antd'\n\nimport { api } from '../../api/api'\n\nimport { useAsync } from '../../common/use-async'\nimport { usePrevious } from '../../common/use-previous'\n\nexport const BilibiliAccountList = ({ user, forceRefresh }) => {\n  const [loadingState, loadAccountList] = useAsync(async () => {\n    return api.getBilibiliAccountList({\n      user\n    })\n  }, [user])\n\n  const prevAccountList = usePrevious(loadingState.value, { check: it => !!it })\n\n  const accountListToRender = useMemo(() => {\n    return loadingState.value ?? prevAccountList ?? []\n  }, [loadingState, prevAccountList])\n\n  const [removingState, removeAccount] = useAsync(async (nameToRemove) => {\n    return api.removeBilibiliAccount({\n      user,\n      nameToRemove\n    })\n  }, [])\n\n  // load accountlist when mount\n  useEffect(() => loadAccountList(), [loadAccountList, forceRefresh])\n\n  // on load error\n  useEffect(() => {\n    const { error } = loadingState\n\n    if (error) {\n      const key = `/error/${Date.now()}`\n\n      notification.error({\n        message: 'B 站账户列表加载失败',\n        description: loadingState.error.message,\n        duration: null,\n        key,\n        btn: (\n          <Button onClick = {() => {\n            loadAccountList()\n            notification.close(key)\n          }}>\n            重试\n          </Button>\n        )\n      })\n    }\n  }, [loadingState, loadAccountList])\n\n  // on remove error\n  useEffect(() => {\n    const { error } = removingState\n    if (error) {\n      notification.error({\n        message: '删除失败',\n        description: error.message,\n        duration: 2\n      })\n    }\n  }, [removingState])\n\n  // on remove success\n  useEffect(() => {\n    const { pending, error, value } = removingState\n\n    if (!pending && !error && value) {\n      loadAccountList()\n\n      notification.success({\n        message: '删除成功',\n        description: '账号已移除',\n        duration: 2\n      })\n    }\n  }, [loadAccountList, removingState])\n\n  const dataSource = useMemo(() => {\n    return accountListToRender.map((name, index) => ({\n      key: name,\n      id: index,\n      name\n    }))\n  }, [accountListToRender])\n\n  const columns = useMemo(() => {\n    return [{\n      title: 'ID',\n      dataIndex: 'id',\n      width: '1em'\n    }, {\n      title: '账号名',\n      dataIndex: 'name'\n    }, {\n      title: '操作',\n      width: '6em',\n      align: 'center',\n      render: ({ name }) => (\n        <Button danger onClick = { () => removeAccount(name) }>\n          移除\n        </Button>\n      )\n    }]\n  }, [removeAccount])\n\n  return (\n    <Table\n      loading = {loadingState.pending || removingState.pending}\n      dataSource = {dataSource}\n      columns = {columns}\n    />\n  )\n}\n","import { useRef, useEffect } from 'react'\n\nexport const usePrevious = (state, { check }) => {\n  const ref = useRef()\n\n  useEffect(() => {\n    if (check(state)) {\n      ref.current = state\n    }\n  })\n\n  return ref.current\n}\n","/*\r\n包含所有action type的常量字符串\r\nexample:\r\nexport const INCREMENT = 'INCREMENT'\r\n*/\r\nexport const SETCOLLAPSED = 'SETCOLLAPSED'\r\n\r\nexport const SETROOM = 'SETROOM'\r\n\r\nexport const SETDATA = 'SETDATA'\r\n\r\nexport const ISLOGIN = 'ISLOGIN'\r\n\r\nexport const SETUSER = 'SETUSER'","import {SETCOLLAPSED} from '../../action/action-types'\r\n\r\n//定义默认数据\r\nconst collapsed = false\r\n\r\n//Reducer\r\nconst reducer = (state = collapsed,action) => {\r\n    switch(action.type){\r\n        case SETCOLLAPSED:\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {SETROOM} from '../../action/action-types'\r\n\r\n//定义默认数据\r\nconst room = {num:'8725120',owner:'古守',color:'#ff6666',url:''}\r\n\r\n//Reducer\r\nconst reducer = (state = room,action) => {\r\n    switch(action.type){\r\n        case SETROOM:\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {SETDATA} from '../../action/action-types'\r\n\r\n//定义默认数据\r\nconst data = [{time:'这里显示发送时间戳',msg:'这里显示发送数据',room:'提示',avatarColor:'red'}]\r\n\r\n//Reducer\r\nconst reducer = (state = data,action) => {\r\n    switch(action.type){\r\n        case SETDATA:\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {ISLOGIN} from '../../action/action-types'\r\n\r\n//定义默认数据\r\nconst login = false\r\n\r\n//Reducer\r\nconst reducer = (state = login,action) => {\r\n    switch(action.type){\r\n        case ISLOGIN:\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {SETUSER} from '../../action/action-types'\r\n\r\n//定义默认数据\r\nconst user = ''\r\n\r\n//Reducer\r\nconst reducer = (state = user,action) => {\r\n    switch(action.type){\r\n        case SETUSER:\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {combineReducers} from 'redux'\r\nimport collapsed from './collapsed/collapsed'\r\nimport room from './room/room'\r\nimport data from './data/data'\r\nimport login from './login/login'\r\nimport user from './user/user'\r\nconst reducers = combineReducers({\r\n    collapsed,\r\n    room,\r\n    data,\r\n    login,\r\n    user\r\n})\r\n\r\nexport default reducers\r\n","import {createStore} from 'redux'\r\nimport reducers from './reducers/reducers'\r\n\r\nconst store = createStore(reducers);\r\n\r\n\r\nexport default store","import {SETCOLLAPSED,SETROOM,SETDATA,ISLOGIN,SETUSER} from './action-types'\r\n//侧栏状态\r\nexport const setCollapsed = (boolean) => ({type:SETCOLLAPSED,data:boolean})\r\n\r\n//直播间信息\r\nexport const setRoom = (json) => ({type:SETROOM,data:json})\r\n\r\n//列表数据源\r\nexport const setData = (array) => ({type:SETDATA,data:array})\r\n\r\n//登陆账号\r\nexport const setUser = (string) => ({type:SETUSER,data:string})\r\n\r\n//\r\nexport const isLogin = (boolean) => ({type:ISLOGIN,data:boolean})","import {connect} from 'react-redux'\r\nimport  {setCollapsed,setRoom} from '../../redux/action/action-creators'\r\nimport SectionLeft from '../../views/section-left/section-left'\r\nimport { withRouter } from 'react-router-dom'\r\nexport default connect(\r\n    state => ({collapsed:state.collapsed,login:state.login,user:state.user}),{setCollapsed,setRoom}\r\n  )(withRouter(SectionLeft))","import {connect} from 'react-redux'\r\nimport Input from '../../views/input/input'\r\nimport  {setData} from '../../redux/action/action-creators'\r\nexport default connect(\r\n    state => ({room:state.room,data:state.data,user:state.user}),{setData}\r\n  )(Input)","import React,{Component} from 'react'\r\nimport WasmPlayer from '@easydarwin/easywasmplayer'\r\nimport './easy-player.css'\r\n\r\nexport default class EasyPlayer extends Component {\r\n    state={\r\n        player: '',\r\n        //url: 'https://d1--cn-gotcha05.bilivideo.com/live-bvc/538037/live_692283831_36987605_1500.flv?cdn=cn-gotcha05&expires=1606130158&len=0&oi=1737340540&pt=web&qn=150&trid=f3d8ed7ff74a4d868f4e35e125d43d9a&sigparams=cdn,expires,len,oi,pt,qn,trid&sign=217b8456ac2265cf98b65ce21809841b&ptype=0&src=9&sl=6&order=1'\r\n    }\r\n    callbackfun = function (e) { \r\n        console.log(e);\r\n    }\r\n    componentDidMount(){\r\n        var url = this.props.url\r\n        \r\n        var player = new WasmPlayer(null, 'Player', this.callbackfun,{\r\n            openAudio:true,\r\n            Height:true\r\n        })\r\n        this.setState({player})\r\n        player.play(url, 1)\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        //console.log(nextProps.url)\r\n        this.state.player.destroy()\r\n        var player = new WasmPlayer(null, 'Player', this.callbackfun,{\r\n            openAudio:true,\r\n            Height:true\r\n        })\r\n        this.setState({player})\r\n        player.play(nextProps.url, 1)\r\n        //this.state.player.play(nextProps.url, 1)\r\n    }\r\n    componentWillUnmount(){\r\n        if(this.state.player!==''){\r\n            this.state.player.destroy()\r\n        }\r\n    }\r\n    render(){\r\n        //console.log(url)\r\n        return(\r\n            <div className=\"box\">\r\n            <div id=\"Player\"></div>\r\n            </div>\r\n        )\r\n        \r\n    }\r\n\r\n}","import React,{Component} from 'react'\r\nimport { Layout,Breadcrumb,} from 'antd';\r\nimport Input from '../../containers/input/input'\r\nimport EasyPlayer from '../../views/easy-player/easy-player'\r\nimport './room.css'\r\n\r\nexport default class Room extends Component {\r\n    render(){\r\n        const {url}= this.props.room\r\n        //console.log(url)\r\n        if(this.props.login!==true){\r\n            this.props.history.push('/login')\r\n        }\r\n        //console.log(data)\r\n        const {Content} = Layout;\r\n        return(\r\n            \r\n            <Content style={{ margin: '0 16px' , overflow: 'initial'}}>\r\n                <Breadcrumb style={{ margin: '16px 0' }}>\r\n                    <Breadcrumb.Item><h2>{this.props.room.owner}</h2></Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <EasyPlayer url={url}/>\r\n                <br/>\r\n                <Input handleUpdata={()=>this.handleUpdata()}/>\r\n            \r\n            </Content>\r\n        )\r\n    }\r\n}","import {connect} from 'react-redux'\r\nimport Room from '../../compoments/room/room'\r\nexport default connect(\r\n    state => ({room:state.room,data:state.data,login:state.login}),{}\r\n  )(Room)","export const formRules = {\n  'user': [{\n    required: true,\n    message: '请输入账号!',\n  }, {\n    max: 128,\n    message: '账号长度超出限制！'\n  }],\n\n  'pass': [{\n    required: true,\n    message: '请输入密码!',\n  }, {\n    max: 128,\n    message: '密码长度超出限制！'\n  }],\n\n  'email': [{\n    require: true,\n    message: '请输入邮箱！'\n  }, {\n    type: \"email\",\n    message: '邮箱格式不合法！'\n  }, {\n    max: 128,\n    message: '邮箱长度超出限制！'\n  }],\n\n  'confirm-pass': [{\n    require: true,\n    message: '请再输入一遍密码！'\n  }, ({ getFieldValue }) => ({\n    async validator (_, value) {\n      if (value && getFieldValue('pass') !== value) {\n        throw new Error('两次输入的密码不一致！')\n      }\n    },\n  })]\n}\n","import React,{Component} from 'react'\r\nimport $ from 'jquery'\r\n\r\nimport { Form, Input, Button, notification,Typography} from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { api } from '../../api/api'\r\nimport { formRules } from '../../common/form-rules'\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nexport default class IsLogin extends Component {\r\n  state={\r\n    user:''\r\n  }\r\n    openNotificationWithIcon = (type,message,description) => {\r\n      notification[type]({\r\n      message,\r\n      description,\r\n      duration: 3,\r\n    });\r\n  };\r\n\r\n  render () {\r\n    const onFinish = (values) => {\r\n      this.setState({\r\n        user: values.user\r\n      })\r\n\r\n      api.login({\r\n        user: values.user,\r\n        pass: values.pass\r\n      }).then(() => {\r\n        this.props.setUser(this.state.user)\r\n        this.props.isLogin(true)\r\n        this.openNotificationWithIcon(\"success\", \"登陆成功\", \"点击房间进行同传,点击录入进行账号池录入\")\r\n        this.props.history.push('/room')\r\n      }).catch((error) => {\r\n        if (error.name === 'NetworkError') {\r\n          this.openNotificationWithIcon(\"error\", \"连接失败\", \"请检查网络连接或联系本人\")\r\n        } else if (error.name === 'ServerReject') {\r\n          this.props.setUser(this.state.user)\r\n          console.log(this.props.user)\r\n          this.props.isLogin(false)\r\n          this.openNotificationWithIcon(\"error\", \"登录失败\", \"请重新尝试\")\r\n        }\r\n      })\r\n    }\r\n\r\n          return (\r\n          <>\r\n                    <Paragraph>\r\n                    <Text strong>同传姬采用账号池机制，每个字幕组拥有自己独立的账号池。如需申请账号或开通新直播间请联系qq3149815852。</Text>\r\n                    </Paragraph>\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{\r\n                remember: true,\r\n              }}\r\n              onFinish={onFinish}\r\n            >\r\n              <Form.Item\r\n                name=\"user\"\r\n                rules = {formRules['user']}\r\n              >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"账号\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"pass\"\r\n                rules = {formRules['pass']}\r\n              >\r\n                <Input\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"密码\"\r\n                />\r\n              </Form.Item>\r\n        \r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                登录\r\n                </Button>\r\n\r\n                <NavLink to = \"/signup\">\r\n                  <Button type = \"text\" color = \"primary\">\r\n                    没有账号？注册一个！\r\n                  </Button>\r\n                </NavLink>\r\n              </Form.Item>\r\n              \r\n            </Form>\r\n          </>\r\n          );\r\n    }\r\n}","import {connect} from 'react-redux'\r\nimport IsLogin from '../../views/is-login/is-login'\r\nimport  {isLogin,setUser} from '../../redux/action/action-creators'\r\nexport default connect(\r\n    state => ({login:state.login,user:state.user}),{isLogin,setUser}\r\n  )(IsLogin)","import {connect} from 'react-redux'\r\nimport LoginForm from '../../views/login-form/login-form'\r\nexport default connect(\r\n    state => ({user:state.user}),{}\r\n  )(LoginForm)","import React,{Component} from 'react'\r\nimport { Layout,Breadcrumb } from 'antd';\r\n\r\n//IsLogin登陆 LoginFrom录入\r\nimport IsLogin from '../../containers/is-login/is-login'\r\nimport LoginFrom from '../../containers/login-form/login-form'\r\nexport default class Login extends Component {\r\n    render(){\r\n        const {Content} = Layout;\r\n        return(\r\n            <Content style={{ margin: '0 16px' , overflow: 'initial'}}>\r\n                <Breadcrumb style={{ margin: '16px 0' }}>\r\n                    <Breadcrumb.Item><h2>{this.props.login?'录入':'登陆'}</h2></Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                {this.props.login?<LoginFrom />:<IsLogin />}                   \r\n            </Content>\r\n        )\r\n    }\r\n}","import {connect} from 'react-redux'\r\nimport Login from '../../compoments/login/login'\r\nexport default connect(\r\n    state => ({login:state.login}),{}\r\n  )(Login)","import React,{Component} from 'react'\r\nimport { Layout,Breadcrumb,Typography } from 'antd';\r\nconst { Title, Paragraph, Text } = Typography;\r\nexport default class Demo extends Component {\r\n    render(){\r\n        const {Content} = Layout;\r\n        if(this.props.login!==true){\r\n            this.props.history.push('/login')\r\n        }\r\n        return(\r\n            <Content style={{ margin: '0 16px' , overflow: 'initial'}}>\r\n                <Breadcrumb style={{ margin: '16px 0' }}>\r\n                    <Breadcrumb.Item><Title>介绍</Title></Breadcrumb.Item>\r\n                    <Paragraph>\r\n                    为方便广大VTB同传man,特此开发同传姬,简化同传流程及提高同传man的体验。<br />\r\n                    同传姬采用账号池机制,弹幕通过服务器发包,借助账号池内的账号轮流发送来避免<br />\r\n                    B站的弹幕间隔限制和隐性延迟。\r\n                    同时弹幕姬可以自动添加中括号和截断长语句,能对大段话语自动分割发送,<br />\r\n                    帮助同传man减免繁杂的重复工作。\r\n                    另外为保证超低的同传延迟,同传姬特别研发了B站直播姬超低延迟播放系统,<br />\r\n                    对直播流自动追帧,能够在不同环境下减免直播延迟2-14s。\r\n                    <Text strong>(网络环境复杂的情况下由于卡顿,会频繁追帧,导致播放卡顿甚至无法正常使用)</Text>\r\n                    </Paragraph>\r\n                    <Paragraph>\r\n                    <Text strong>开发中功能</Text>\r\n                    </Paragraph>\r\n                    <Paragraph>\r\n                    歌曲歌词搜索并自动按时间戳发送\r\n                    </Paragraph>\r\n                </Breadcrumb>\r\n                <Title level={2}>用户手册</Title>\r\n                <Paragraph>\r\n                <Text mark>为保证良好直播环境,请勿擅自传播账号密码--Mark</Text>\r\n                </Paragraph>\r\n                <Paragraph>\r\n                欢迎使用<Text strong>同传姬</Text>,点击<Text strong>录入</Text>按钮,填入自己的昵称并确认后根据提示信息操作，可进行账号池录录入,以便共同工作的流畅性。点击右侧选择直播间可进行同传。\r\n                </Paragraph>\r\n                <Paragraph>\r\n                <Text strong>直播间界面内</Text>,在<Text strong>输入框</Text>输入同传内容,<Text strong>不需要</Text>手动‘【】’,按下<Text strong>回车</Text>可自动发送,\r\n                超出字数限制会进行时<Text strong>自动断句</Text>。\r\n                </Paragraph>\r\n                <Paragraph>\r\n                推荐使用<Text strong>Google Chrome</Text>以便正常使用前端页面功能\r\n                </Paragraph>\r\n                <Title level={3}>更新日志</Title>\r\n                <Title level={4}>同传姬 v1.0 2020/11/23</Title>\r\n                <Paragraph>\r\n                基本功能实现完毕。\r\n                </Paragraph> \r\n                <Title level={4}>同传姬 v1.1 2020/11/24</Title>\r\n                <Paragraph>\r\n                添加无延迟直播画面显示。<br />\r\n                更新多账户区分账号池功能。<br />\r\n                添加同传弹幕颜色选择。\r\n                </Paragraph>                 \r\n            </Content>\r\n        )\r\n    }\r\n}","import {connect} from 'react-redux'\r\nimport Demo from '../../compoments/demo/demo'\r\nexport default connect(\r\n    state => ({login:state.login}),{}\r\n  )(Demo)","import React, { useState, useCallback } from 'react'\n\nimport { Spin, Layout, Form, Input, Button, notification } from 'antd'\n\nimport { UserOutlined, LockOutlined, MailOutlined } from '@ant-design/icons'\n\nimport { api } from '../../api/api'\n\nimport { formRules } from '../../common/form-rules'\n\nexport const SignUp = (props) => {\n  const { Content } = Layout\n\n  const [pending, setPending] = useState(false)\n\n  const onFinish = useCallback(({ email, user, pass }) => {\n    setPending(true)\n\n    api.signup({\n      email,\n      user,\n      pass\n    }).then(() => {\n      setPending(false)\n\n      notification['success']({\n        message: '注册成功',\n        description: '正在跳转至登录页面...',\n        duration: 1.5\n      })\n\n      props.history.push('/login')\n    }).catch(error => {\n      setPending(false)\n\n      if (error.name === 'NetworkError') {\n        notification['error']({\n          message: '连接失败',\n          description: '请检查网络连接或联系本人',\n          duration: 3\n        })\n      } else if (error.name === 'ServerReject') {\n        notification['error']({\n          message: '注册失败',\n          description: '请检查用户名与邮箱',\n          duration: 3\n        })\n      }\n    })\n  }, [props])\n\n  return (\n    <Content\n      style = {{\n        padding: '1em'\n      }}\n    >\n      <h2>注册</h2>\n\n      <Form\n        name = \"normal_signup\"\n        onFinish = {onFinish}\n      >\n        <Form.Item\n          name = 'email'\n          rules = {formRules['email']}\n        >\n          <Input\n            prefix = {<MailOutlined className = 'site-form-item-icon' />}\n            placeholder = '邮箱'\n          />\n        </Form.Item>\n\n        <Form.Item\n          name = 'user'\n          rules = {formRules['user']}\n        >\n          <Input\n            prefix = {<UserOutlined className=\"site-form-item-icon\" />}\n            placeholder = \"账号\"\n          />\n        </Form.Item>\n\n        <Form.Item\n          name = \"pass\"\n          rules = {formRules['pass']}\n        >\n          <Input\n            prefix = {<LockOutlined className=\"site-form-item-icon\" />}\n            type = \"password\"\n            placeholder = \"密码\"\n          />\n        </Form.Item>\n\n        <Form.Item\n          name = \"confirm-pass\"\n          dependencies = {['pass']}\n          rules = {formRules['confirm-pass']}\n        >\n          <Input\n            type = 'password'\n            prefix = {<LockOutlined />}\n            placeholder = '确认密码'\n          />\n        </Form.Item>\n\n        <Form.Item style = {{\n          display: 'inline-block'\n        }}>\n          <Spin spinning = {pending}>\n            <Button type = \"primary\" htmlType = \"submit\">\n              注册\n            </Button>\n          </Spin>\n        </Form.Item>\n      </Form>\n    </Content>\n  )\n}\n","import React,{Component} from 'react'\r\nimport {Switch,Route,Redirect} from 'react-router-dom'\r\nimport { Layout } from 'antd';\r\n\r\nimport Room from '../../containers/room/room'\r\nimport Login from '../../containers/login/login'\r\nimport Demo from '../../containers/demo/demo'\r\nimport { SignUp } from '../../compoments/signup/signup';\r\n\r\nexport default class SectionRight extends Component {\r\n\r\n\r\n    render(){\r\n        const { Header, Footer} = Layout;\r\n        const {collapsed} = this.props;\r\n        return(\r\n            <Layout className=\"site-layout\" style={{ marginLeft:  collapsed?75:200 }}>\r\n                <Header className=\"site-layout-background\" style={{ padding: 0 }} />\r\n                <Switch>\r\n                        <Route path='/login' component={Login}/>\r\n                        <Route path='/room' component={Room}/>\r\n                        <Route path='/index' component={Demo}/>\r\n                        <Route path='/signup' component={SignUp}/>\r\n                        <Redirect to='/index' />\r\n                </Switch>\r\n                <Footer style={{ textAlign: 'center' }}>同传姬 ©2020 Created by 電、Mark</Footer>\r\n            </Layout>\r\n        )\r\n    }\r\n}","import {connect} from 'react-redux'\r\nimport  {setCollapsed} from '../../redux/action/action-creators'\r\nimport SectionRight from '../../views/section-right/section-right'\r\nexport default connect(\r\n    state => ({collapsed:state.collapsed,room:state.room}),{setCollapsed}\r\n  )(SectionRight)","import React,{Component} from 'react'\r\n//import axios from 'axios';\r\n\r\nimport { Layout } from 'antd';\r\n\r\nimport SectionLeft from '../../containers/section-left/section-left'\r\nimport SectionRight from '../../containers/section-right/section-right'\r\nexport default class AppLayout extends Component {\r\n  render(){\r\n      return(\r\n              <Layout style={{ minHeight: '100vh' }}>\r\n                <SectionLeft />\r\n                <SectionRight />\r\n              </Layout>\r\n            );\r\n          \r\n        }\r\n}\r\n\r\n","import {connect} from 'react-redux'\r\nimport  {setCollapsed} from '../../redux/action/action-creators'\r\nimport App from '../../views/app/app'\r\nexport default connect(\r\n    state => ({collapsed:state.collapsed}),{setCollapsed}\r\n  )(App)","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport store from './redux/store'\r\nimport {Provider} from 'react-redux'\r\nimport{BrowserRouter} from 'react-router-dom'\r\nimport 'antd/dist/antd.css'\r\n\r\nimport App from './containers/app/app'\r\n\r\n \r\n    ReactDOM.render(\r\n    <BrowserRouter>\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    </BrowserRouter>\r\n    ,document.getElementById('root')\r\n    );\r\n","import axios from 'axios'\n\nimport apiSpec from './api.json'\n\naxios.defaults.baseURL = apiSpec.servers[0].url\n\nconst Named = (name) => (error) => {\n  error.name = name\n  return error\n}\n\nconst buildFormData = (json) => {\n  const data = new FormData()\n\n  for (const key of Object.keys(json)) {\n    data.append(key, json[key])\n  }\n\n  return {\n    data,\n    headers: {\n      'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n    }\n  }\n}\n\nexport const api = {\n  /**\n   * Sign Up\n   * @param {{\n    *  email: string\n    *  user: string\n    *  pass: string\n    * }} payload\n    */\n  async login ({ user, pass }) {\n    const { data, headers } = buildFormData({\n      user,\n      pass\n    })\n\n    try {\n      const response = await axios.post('/login.php', data, {\n        headers\n      })\n\n      console.log(response)\n\n      const { status } = response.data\n\n      if (status === 0) {\n        return\n      }\n    } catch (err) {\n      console.error(err)\n\n      throw Named('NetworkError')(new Error('网络错误'))\n    }\n\n    throw Named('ServerReject')(new Error('登录失败'))\n  },\n\n  /**\n   * Sign Up\n   * @param {{\n   *  email: string\n   *  user: string\n   *  pass: string\n   * }} payload\n   */\n  async signup ({ email, user, pass }) {\n    const { data, headers } = buildFormData({\n      email,\n      user,\n      pass\n    })\n\n    try {\n      const response = await axios.post('/logon.php', data, {\n        headers\n      })\n\n      const { status } = response.data\n\n      if (status === 0) {\n        return\n      }\n    } catch (err) {\n      console.error(err)\n\n      throw Named('NetworkError')(new Error('网络错误'))\n    }\n\n    throw Named('ServerReject')(new Error('注册失败'))\n  },\n\n  /**\n   * Get Bilibili Account List\n   * @param {{\n   *  user: string\n   * }} payload\n   * @return {Promise<string[]>}\n   */\n  async getBilibiliAccountList ({ user }) {\n    const { data, headers } = buildFormData({\n      loc_user: user\n    })\n\n    let response = null\n\n    try {\n      response = await axios.post('/bililist.php', data, { headers })\n    } catch (err) {\n      console.error(err)\n\n      throw Named('NetworkError')(new Error('网络错误'))\n    }\n\n    return response.data\n  },\n\n  /**\n   * Remove a Bilibili Account\n   * @param {{\n   *  user: string\n   *  nameToRemove: string\n   * }} payload\n   * @returns {Promise<true>}\n   */\n  async removeBilibiliAccount ({ user, nameToRemove }) {\n    const { data, headers } = buildFormData({\n      loc_user: user,\n      del_user: nameToRemove\n    })\n\n    let response = null\n\n    try {\n      response = await axios.post('/bilidel.php', data, { headers })\n    } catch (err) {\n      console.error(err)\n\n      throw Named('NetworkError')(new Error('网络错误'))\n    }\n\n    const { return: status, data: message } = JSON.parse(response.data)\n\n    if (status === \"0\") {\n      return true\n    }\n\n    const error = Named('RemoveError')(new Error(message))\n    console.error(error)\n    throw error\n  }\n}\n"],"sourceRoot":""}